{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jhonc\\\\Desktop\\\\CALCULADORA\\\\queueing-theory-calculator\\\\src\\\\views\\\\MMKMM.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport Button, { ButtonType } from '../components/buttons/Button';\nimport Input, { InputTypes } from '../components/inputs/Input';\nimport OptionInput, { OptionInputTypes } from '../components/inputs/OptionInput';\nimport { SystemOrQueuing, TypeCalculate } from '../library/queueing/Constants';\nimport { MMKMMModel } from '../library/queueing/formulas/MMKMM.model';\nimport ResultItem from '../components/results/ResultItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LabelSystemOrQueuing = {\n  system: 'el sistema',\n  queuing: 'la cola'\n};\nconst LabelTypeCalculate = {\n  fixed: 'exactamente',\n  max: 'máximo',\n  least: 'al menos'\n};\n\nconst MMKMM = () => {\n  _s();\n\n  const [showResult, setShowResult] = useState({\n    loading: false,\n    show: false\n  });\n  const [result, setResult] = useState();\n  const [labelPn, setLabelPn] = useState('');\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    setValue\n  } = useForm();\n\n  const onSubmit = async data => {\n    // parse data for avoid problems\n    let lambda = parseFloat(data.lambda.toString());\n    let miu = parseFloat(data.miu.toString());\n    let k = parseInt(data.k.toString());\n    let m = parseInt(data.m.toString());\n    let n = parseInt(data.n.toString());\n    let horas = parseInt(data.horas.toString());\n    let espera = parseInt(data.costoCola.toString());\n    let sistema = parseInt(data.costoSistema.toString());\n    let servidor = parseInt(data.costoServidor.toString());\n    const model = new MMKMMModel(lambda, miu, k, m, n, horas, espera, sistema, servidor);\n    if (!model.isMultichannel()) return alert('El problema no es de tipo M/M/k/M/M');\n    setShowResult({\n      loading: true,\n      show: false\n    });\n    await model.calculateAll(data.system, data.calculate);\n    setResult(model);\n    setLabel(n, data.calculate, data.system);\n    setShowResult({\n      loading: false,\n      show: true\n    });\n  };\n\n  useEffect(() => {\n    setValue('calculate', TypeCalculate.Fixed);\n    setValue('system', SystemOrQueuing.System);\n  }, [setValue]);\n\n  const setLabel = (n, calculate, operation) => {\n    setLabelPn(`Probabilidad de hallar \n    ${LabelTypeCalculate[calculate] || 'exactamente'} \n    ${n} clientes en ${LabelSystemOrQueuing[operation] || 'el sistema'}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex mt-2 ml-32 justify-end h-auto lg:items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col rounded-xl w-full shadow-md overflow-hidden sm:w-11/12 lg:flex-row lg:w-11/12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-300 px-6 pt-4 border w-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex my-3 justify-center items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"absolute left-0 hover:bg-gray-200 rounded-full p-2\",\n            title: \"back\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-bold text-2xl\",\n            children: \"M/M/k/M/M\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            symbol: \"\\u03BB\",\n            label: \"tasa de llegada\",\n            name: \"lambda\",\n            placeholder: \"0\",\n            type: InputTypes.Number,\n            register: register,\n            error: errors.lambda,\n            step: \"0.001\",\n            required: {\n              required: 'El campo es obligatorio'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            symbol: \"\\u03BC\",\n            label: \"tasa de servicio\",\n            name: \"miu\",\n            placeholder: \"0\",\n            type: InputTypes.Number,\n            register: register,\n            error: errors.miu,\n            step: \"0.001\",\n            required: {\n              required: 'El campo es obligatorio'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            symbol: \"M\",\n            label: \"poblaci\\xF3n conocida\",\n            name: \"m\",\n            placeholder: \"0\",\n            type: InputTypes.Number,\n            register: register,\n            error: errors.m,\n            required: {\n              required: 'El campo es obligatorio'\n            },\n            container: \"mt-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            symbol: \"k\",\n            label: \"n\\xFAmero de servidores\",\n            name: \"k\",\n            placeholder: \"2\",\n            type: InputTypes.Number,\n            register: register,\n            error: errors.k,\n            container: \"mt-2\",\n            required: {\n              required: 'El campo es obligatorio',\n              min: {\n                value: 2,\n                message: 'Debe tener mínimo 2 servidores para ser M/M/k/M/M'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              symbol: \"N\",\n              label: \"clientes\",\n              name: \"n\",\n              placeholder: \"0\",\n              type: InputTypes.Number,\n              register: register,\n              error: errors.n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"costos\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  symbol: \"$\",\n                  label: \"Costo por Cola\",\n                  name: \"costoCola\",\n                  placeholder: \"0\",\n                  type: InputTypes.Number,\n                  register: register,\n                  error: errors.n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  symbol: \"$\",\n                  label: \"Costo por Sistema\",\n                  name: \"costoSistema\",\n                  placeholder: \"0\",\n                  type: InputTypes.Number,\n                  register: register,\n                  error: errors.n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  symbol: \"$\",\n                  label: \"Costo por servidor\",\n                  name: \"costoServidor\",\n                  placeholder: \"0\",\n                  type: InputTypes.Number,\n                  register: register,\n                  error: errors.n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  symbol: \"\\u23F3\",\n                  label: \"Horas \",\n                  name: \"horas\",\n                  placeholder: \"0\",\n                  type: InputTypes.Number,\n                  register: register,\n                  error: errors.n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Opciones para calculo de Pn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(OptionInput, {\n                  label: \"Exactamente\",\n                  name: \"calculate\",\n                  option: TypeCalculate.Fixed,\n                  register: register,\n                  type: OptionInputTypes.Radio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(OptionInput, {\n                  label: \"Al menos\",\n                  name: \"calculate\",\n                  option: TypeCalculate.AtLeast,\n                  register: register,\n                  type: OptionInputTypes.Radio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(OptionInput, {\n                  label: \"M\\xE1ximo\",\n                  name: \"calculate\",\n                  option: TypeCalculate.Max,\n                  register: register,\n                  type: OptionInputTypes.Radio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4\",\n                children: [/*#__PURE__*/_jsxDEV(OptionInput, {\n                  label: \"Sistema\",\n                  name: \"system\",\n                  option: SystemOrQueuing.System,\n                  register: register,\n                  type: OptionInputTypes.Radio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(OptionInput, {\n                  label: \"Cola\",\n                  name: \"system\",\n                  option: SystemOrQueuing.Queuing,\n                  register: register,\n                  type: OptionInputTypes.Radio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-8\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              text: \"Calcular\",\n              type: ButtonType.Submit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-auto lg:min-h-full flex justify-center border px-6 pt-4\n      ${!showResult.show ? 'bg-gray-200' : 'bg-white'}`,\n        children: showResult.loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"self-center my-36\",\n          children: \"Calculando resultados...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this) : !showResult.show ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"self-center my-36\",\n          children: \"Presiona Calcular para ver los resultados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative flex my-3 justify-center items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-bold text-2xl\",\n              children: \"Resultados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 gap-8 \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"P0\",\n                label: \"Probabilidad de hallar el sistema vac\\xEDo\",\n                value: result === null || result === void 0 ? void 0 : result.p0.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Pe\",\n                label: \"Probabilidad de hallar el sistema completamente ocupado\",\n                value: result === null || result === void 0 ? void 0 : result.pe.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Pne\",\n                label: \"Probabilidad de no esperar\",\n                value: result === null || result === void 0 ? void 0 : result.pne.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Pn\",\n                label: labelPn,\n                value: result === null || result === void 0 ? void 0 : result.pn.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"L\",\n                label: \"El n\\xFAmero esperado de clientes en el sistema\",\n                value: result === null || result === void 0 ? void 0 : result.l.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Lq\",\n                label: \"El n\\xFAmero esperado de clientes en la cola\",\n                value: result === null || result === void 0 ? void 0 : result.lq.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Ln\",\n                label: \"El n\\xFAmero esperado de clientes en la cola no vac\\xEDa\",\n                value: result === null || result === void 0 ? void 0 : result.ln.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"W\",\n                label: \"El tiempo promedio esperado en el sistema por los clientes\",\n                value: result === null || result === void 0 ? void 0 : result.w.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Wq\",\n                label: \"El tiempo esperado en la cola por los clientes\",\n                value: result === null || result === void 0 ? void 0 : result.wq.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"Wn\",\n                label: \"El tiempo esperado en la cola para colas no vac\\xEDas por los clientes\",\n                value: result === null || result === void 0 ? void 0 : result.wn.toFixed(5)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"CTE\",\n                label: \"Costo por clientes en Cola \",\n                value: result === null || result === void 0 ? void 0 : result.costoCola.toFixed(3)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"CS\",\n                label: \"Costo Servidor\",\n                value: result === null || result === void 0 ? void 0 : result.costoServidor.toFixed(3)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResultItem, {\n                symbol: \"CTS\",\n                label: \"Costo por tiempo de Sistema \",\n                value: result === null || result === void 0 ? void 0 : result.costoSistema.toFixed(3)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"FORMULAS \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MMKMM, \"JfRWgj39rlIPrshWK90SDqZjq5U=\", false, function () {\n  return [useForm];\n});\n\n_c = MMKMM;\nexport default MMKMM;\n\nvar _c;\n\n$RefreshReg$(_c, \"MMKMM\");","map":{"version":3,"sources":["C:/Users/jhonc/Desktop/CALCULADORA/queueing-theory-calculator/src/views/MMKMM.tsx"],"names":["React","useEffect","useState","Link","useForm","Button","ButtonType","Input","InputTypes","OptionInput","OptionInputTypes","SystemOrQueuing","TypeCalculate","MMKMMModel","ResultItem","LabelSystemOrQueuing","system","queuing","LabelTypeCalculate","fixed","max","least","MMKMM","showResult","setShowResult","loading","show","result","setResult","labelPn","setLabelPn","register","handleSubmit","formState","errors","setValue","onSubmit","data","lambda","parseFloat","toString","miu","k","parseInt","m","n","horas","espera","costoCola","sistema","costoSistema","servidor","costoServidor","model","isMultichannel","alert","calculateAll","calculate","setLabel","Fixed","System","operation","Number","required","min","value","message","Radio","AtLeast","Max","Queuing","Submit","p0","toFixed","pe","pne","pn","l","lq","ln","w","wq","wn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { SubmitHandler, useForm } from 'react-hook-form';\r\n\r\nimport Button, { ButtonType } from '../components/buttons/Button';\r\nimport Input, { InputTypes } from '../components/inputs/Input';\r\nimport OptionInput, {\r\n  OptionInputTypes,\r\n} from '../components/inputs/OptionInput';\r\nimport { SystemOrQueuing, TypeCalculate } from '../library/queueing/Constants';\r\nimport { MMKMMModel } from '../library/queueing/formulas/MMKMM.model';\r\nimport ResultItem from '../components/results/ResultItem';\r\n\r\ntype MMKMMValues = {\r\n  lambda: number;\r\n  miu: number;\r\n  k: number;\r\n  m: number;\r\n  n: number;\r\n  calculate: TypeCalculate;\r\n  system: SystemOrQueuing;\r\n};\r\n\r\nconst LabelSystemOrQueuing: any = {\r\n  system: 'el sistema',\r\n  queuing: 'la cola',\r\n};\r\n\r\nconst LabelTypeCalculate: any = {\r\n  fixed: 'exactamente',\r\n  max: 'máximo',\r\n  least: 'al menos',\r\n};\r\n\r\nconst MMKMM = () => {\r\n  const [showResult, setShowResult] = useState({ loading: false, show: false });\r\n  const [result, setResult] = useState<MMKMMModel>();\r\n  const [labelPn, setLabelPn] = useState<string>('');\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm<MMKMMValues>();\r\n\r\n  const onSubmit: SubmitHandler<MMKMMValues> = async (data) => {\r\n    // parse data for avoid problems\r\n    let lambda = parseFloat(data.lambda.toString());\r\n    let miu = parseFloat(data.miu.toString());\r\n    let k = parseInt(data.k.toString());\r\n    let m = parseInt(data.m.toString());\r\n    let n = parseInt(data.n.toString());\r\n    let horas = parseInt(data.horas.toString());\r\n    let espera = parseInt(data.costoCola.toString());\r\n    let sistema = parseInt(data.costoSistema.toString());\r\n    let servidor = parseInt(data.costoServidor.toString());\r\n\r\n    const model = new MMKMMModel(lambda, miu, k, m, n,horas, espera, sistema, servidor);\r\n\r\n    if (!model.isMultichannel())\r\n      return alert('El problema no es de tipo M/M/k/M/M');\r\n\r\n    setShowResult({ loading: true, show: false });\r\n    await model.calculateAll(data.system, data.calculate);\r\n    setResult(model);\r\n    setLabel(n, data.calculate, data.system);\r\n    setShowResult({ loading: false, show: true });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue('calculate', TypeCalculate.Fixed);\r\n    setValue('system', SystemOrQueuing.System);\r\n  }, [setValue]);\r\n\r\n  const setLabel = (n: number, calculate: string, operation: string) => {\r\n    setLabelPn(`Probabilidad de hallar \r\n    ${LabelTypeCalculate[calculate] || 'exactamente'} \r\n    ${n} clientes en ${LabelSystemOrQueuing[operation] || 'el sistema'}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex mt-2 ml-32 justify-end h-auto lg:items-center\">\r\n    <div className=\"flex flex-col rounded-xl w-full shadow-md overflow-hidden sm:w-11/12 lg:flex-row lg:w-11/12\">\r\n      <div className=\"bg-gray-300 px-6 pt-4 border w-auto\">\r\n        <div className=\"relative flex my-3 justify-center items-center\">  \r\n            <Link\r\n              to=\"/\"\r\n              className=\"absolute left-0 hover:bg-gray-200 rounded-full p-2\"\r\n              title=\"back\"\r\n            >\r\n              <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\"\r\n                />\r\n              </svg>\r\n            </Link>\r\n            <h2 className=\"font-bold text-2xl\">M/M/k/M/M</h2>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n          \r\n              <Input\r\n                symbol=\"λ\"\r\n                label=\"tasa de llegada\"\r\n                name=\"lambda\"\r\n                placeholder=\"0\"\r\n                type={InputTypes.Number}\r\n                register={register}\r\n                error={errors.lambda}\r\n                step=\"0.001\"\r\n                required={{ required: 'El campo es obligatorio' }}\r\n              />\r\n              <Input\r\n                symbol=\"μ\"\r\n                label=\"tasa de servicio\"\r\n                name=\"miu\"\r\n                placeholder=\"0\"\r\n                type={InputTypes.Number}\r\n                register={register}\r\n                error={errors.miu}\r\n                step=\"0.001\"\r\n                required={{ required: 'El campo es obligatorio' }}\r\n              />\r\n\r\n\r\n              <Input\r\n                symbol=\"M\"\r\n                label=\"población conocida\"\r\n                name=\"m\"\r\n                placeholder=\"0\"\r\n                type={InputTypes.Number}\r\n                register={register}\r\n                error={errors.m}\r\n                required={{ required: 'El campo es obligatorio' }}\r\n                container=\"mt-2\"\r\n              />\r\n              <Input\r\n                symbol=\"k\"\r\n                label=\"número de servidores\"\r\n                name=\"k\"\r\n                placeholder=\"2\"\r\n                type={InputTypes.Number}\r\n                register={register}\r\n                error={errors.k}\r\n                container=\"mt-2\"\r\n                required={{\r\n                  required: 'El campo es obligatorio',\r\n                  min: {\r\n                    value: 2,\r\n                    message:\r\n                      'Debe tener mínimo 2 servidores para ser M/M/k/M/M',\r\n                  },\r\n                }}\r\n              />\r\n            <div className=\"mt-2\">\r\n              <Input\r\n                symbol=\"N\"\r\n                label=\"clientes\"\r\n                name=\"n\"\r\n                placeholder=\"0\"\r\n                type={InputTypes.Number}\r\n                register={register}\r\n                error={errors.n}\r\n              />\r\n            </div>\r\n            <div className=\"mt-1\">\r\n              <div className='costos'>\r\n                <div>\r\n                  <Input\r\n                    symbol=\"$\"\r\n                    label=\"Costo por Cola\"\r\n                    name=\"costoCola\"\r\n                    placeholder=\"0\"\r\n                    type={InputTypes.Number}\r\n                    register={register}\r\n                    error={errors.n}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mt-1\">\r\n                  <Input\r\n                    symbol=\"$\"\r\n                    label=\"Costo por Sistema\"\r\n                    name=\"costoSistema\"\r\n                    placeholder=\"0\"\r\n                    type={InputTypes.Number}\r\n                    register={register}\r\n                    error={errors.n}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-1\">\r\n                  <Input\r\n                    symbol=\"$\"\r\n                    label=\"Costo por servidor\"\r\n                    name=\"costoServidor\"\r\n                    placeholder=\"0\"\r\n                    type={InputTypes.Number}\r\n                    register={register}\r\n                    error={errors.n}\r\n                  />\r\n\r\n                </div>\r\n                <div className=\"mt-1\">\r\n                  <Input\r\n                    symbol=\"⏳\"\r\n                    label=\"Horas \"\r\n                    name=\"horas\"\r\n                    placeholder=\"0\"\r\n                    type={InputTypes.Number}\r\n                    register={register}\r\n                    error={errors.n}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ml-2 mt-2\">\r\n              <p>Opciones para calculo de Pn</p>\r\n              <div className=\"flex mt-1\">\r\n                <div>\r\n                  <OptionInput\r\n                    label=\"Exactamente\"\r\n                    name=\"calculate\"\r\n                    option={TypeCalculate.Fixed}\r\n                    register={register}\r\n                    type={OptionInputTypes.Radio}\r\n                  />\r\n                  <OptionInput\r\n                    label=\"Al menos\"\r\n                    name=\"calculate\"\r\n                    option={TypeCalculate.AtLeast}\r\n                    register={register}\r\n                    type={OptionInputTypes.Radio}\r\n                  />\r\n                  <OptionInput\r\n                    label=\"Máximo\"\r\n                    name=\"calculate\"\r\n                    option={TypeCalculate.Max}\r\n                    register={register}\r\n                    type={OptionInputTypes.Radio}\r\n                  />\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <OptionInput\r\n                    label=\"Sistema\"\r\n                    name=\"system\"\r\n                    option={SystemOrQueuing.System}\r\n                    register={register}\r\n                    type={OptionInputTypes.Radio}\r\n                  />\r\n                  <OptionInput\r\n                    label=\"Cola\"\r\n                    name=\"system\"\r\n                    option={SystemOrQueuing.Queuing}\r\n                    register={register}\r\n                    type={OptionInputTypes.Radio}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"my-8\">\r\n              <Button text=\"Calcular\" type={ButtonType.Submit} />\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div\r\n          className={`w-auto lg:min-h-full flex justify-center border px-6 pt-4\r\n      ${!showResult.show ? 'bg-gray-200' : 'bg-white'}`}\r\n        >\r\n          {showResult.loading ? (\r\n            <p className=\"self-center my-36\">Calculando resultados...</p>\r\n          ) : !showResult.show ? (\r\n            <p className=\"self-center my-36\">\r\n              Presiona Calcular para ver los resultados\r\n            </p>\r\n          ) : (\r\n            <div>\r\n              <div className=\"relative flex my-3 justify-center items-center\">\r\n                <h2 className=\"font-bold text-2xl\">Resultados</h2>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-8 \">\r\n                <div>\r\n                  <ResultItem\r\n                    symbol=\"P0\"\r\n                    label=\"Probabilidad de hallar el sistema vacío\"\r\n                    value={result?.p0.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"Pe\"\r\n                    label=\"Probabilidad de hallar el sistema completamente ocupado\"\r\n                    value={result?.pe.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"Pne\"\r\n                    label=\"Probabilidad de no esperar\"\r\n                    value={result?.pne.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"Pn\"\r\n                    label={labelPn}\r\n                    value={result?.pn.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"L\"\r\n                    label=\"El número esperado de clientes en el sistema\"\r\n                    value={result?.l.toFixed(5)}\r\n                  />\r\n                   <ResultItem\r\n                    symbol=\"Lq\"\r\n                    label=\"El número esperado de clientes en la cola\"\r\n                    value={result?.lq.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"Ln\"\r\n                    label=\"El número esperado de clientes en la cola no vacía\"\r\n                    value={result?.ln.toFixed(5)}\r\n                  />\r\n                </div>\r\n                <div>\r\n                 \r\n                  <ResultItem\r\n                    symbol=\"W\"\r\n                    label=\"El tiempo promedio esperado en el sistema por los clientes\"\r\n                    value={result?.w.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"Wq\"\r\n                    label=\"El tiempo esperado en la cola por los clientes\"\r\n                    value={result?.wq.toFixed(5)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"Wn\"\r\n                    label=\"El tiempo esperado en la cola para colas no vacías por los clientes\"\r\n                    value={result?.wn.toFixed(5)}\r\n                  />\r\n                       <ResultItem\r\n                    symbol=\"CTE\"\r\n                    label=\"Costo por clientes en Cola \"\r\n                    value={result?.costoCola.toFixed(3)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"CS\"\r\n                    label=\"Costo Servidor\"\r\n                    value={result?.costoServidor.toFixed(3)}\r\n                  />\r\n                  <ResultItem\r\n                    symbol=\"CTS\"\r\n                    label=\"Costo por tiempo de Sistema \"\r\n                    value={ result?.costoSistema.toFixed(3)}\r\n                  />\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div>FORMULAS </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MMKMM;\r\n"]},"metadata":{},"sourceType":"module"}